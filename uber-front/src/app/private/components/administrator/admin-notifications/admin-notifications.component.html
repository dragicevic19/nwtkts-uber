<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
<h2 style="text-align: center;">Pending: </h2>
<div class="container bootstrap snippets bootdey" id="container">
	<div class="row">
		<div class="col-lg-12">
			<div class="main-box no-header clearfix">
				<div class="main-box-body clearfix">
					<div class="table-responsive">
						<table class="table user-list">
							<thead>
								<tr>
									<th style="text-align: center;"><span>User</span></th>
									<th style="text-align: center;"><span>Email</span></th>
									<th style="text-align: center;"><span>Role</span></th>
									<th style="text-align: center;"><span>Status</span></th>
									<th style="text-align: center;">Action</th>
								</tr>
							</thead>
							<tbody *ngFor="let notification of notifications">
								<tr *ngIf="notification.status === 'pending'">
									<td style="text-align: center;">
										<img src="{{notification.oldInfo.image}}" alt="">
										<a class="user-link">{{notification.oldInfo.firstName}}
											{{notification.oldInfo.lastName}}</a>
									</td>
									<td style="text-align: center;">{{notification.oldInfo.email}}</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.oldInfo.role}}</span>
									</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.status}}</span>
									</td>
									<td style="width: 20%;" style="color: aliceblue;">
										<a type="button" class="btn btn-info" data-toggle="modal"
											style="display: flex; align-items: center; justify-content: center;"
											data-target="#show-diff-modal" (click)="onOpenModal(notification, 'show-diff')">Show diff</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<h2 style="text-align: center;">Accepted: </h2>
	<div class="row">
		<div class="col-lg-12">
			<div class="main-box no-header clearfix">
				<div class="main-box-body clearfix">
					<div class="table-responsive">
						<table class="table user-list">
							<thead>
								<tr>
									<th style="text-align: center;"><span>User</span></th>
									<th style="text-align: center;"><span>Email</span></th>
									<th style="text-align: center;"><span>Role</span></th>
									<th style="text-align: center;"><span>Status</span></th>
									<th style="text-align: center;">Action</th>
								</tr>
							</thead>
							<tbody *ngFor="let notification of notifications">
								<tr *ngIf="notification.status === 'accepted'">
									<td style="text-align: center;">
										<img src="{{notification.oldInfo.image}}" alt="">
										<a class="user-link">{{notification.oldInfo.firstName}}
											{{notification.oldInfo.lastName}}</a>
									</td>
									<td style="text-align: center;">{{notification.oldInfo.email}}</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.oldInfo.role}}</span>
									</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.status}}</span>
									</td>
									<td style="width: 20%;" style="color: aliceblue;">
										<a type="button" class="btn btn-info" data-toggle="modal"
											style="display: flex; align-items: center; justify-content: center;"
											data-target="#show-diff-modal" (click)="onOpenModal(notification, 'show-diff')">Show diff</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<h2 style="text-align: center;">Declined: </h2>
	<div class="row">
		<div class="col-lg-12">
			<div class="main-box no-header clearfix">
				<div class="main-box-body clearfix">
					<div class="table-responsive">
						<table class="table user-list">
							<thead>
								<tr>
									<th style="text-align: center;"><span>User</span></th>
									<th style="text-align: center;"><span>Email</span></th>
									<th style="text-align: center;"><span>Role</span></th>
									<th style="text-align: center;"><span>Status</span></th>
									<th style="text-align: center;">Action</th>
								</tr>
							</thead>
							<tbody *ngFor="let notification of notifications">
								<tr *ngIf="notification.status === 'declined'">
									<td style="text-align: center;">
										<img src="{{notification.oldInfo.image}}" alt="">
										<a class="user-link">{{notification.oldInfo.firstName}}
											{{notification.oldInfo.lastName}}</a>
									</td>
									<td style="text-align: center;">{{notification.oldInfo.email}}</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.oldInfo.role}}</span>
									</td>
									<td style="text-align: center;">
										<span class="label label-default">{{notification.status}}</span>
									</td>
									<td style="width: 20%;" style="color: aliceblue;">
										<a type="button" class="btn btn-info" data-toggle="modal"
											style="display: flex; align-items: center; justify-content: center;"
											data-target="#show-diff-modal" (click)="onOpenModal(notification, 'show-diff')">Show diff</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- More info modal -->
<div class="modal fade" id="show-diff-modal" aria-labelledby="show-diff-modalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Preview changes</h3>
			</div>
			<div class="modal-body">
				<div class="row">
					<div>
						<h5 style="text-align: center;">Before</h5>
						<table class="table table-bordered">
							<thead>
								<tr>
									<th scope="col">Image</th>
									<th scope="col">First name</th>
									<th scope="col">Last name</th>
									<th scope="col">Phone</th>
									<th scope="col">Country</th>
									<th scope="col">City</th>
									<th scope="col">Street</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><img src="{{chosen.oldInfo.image}}" style="width: 60px; height: 60px;"></td>
									<td>{{chosen.oldInfo.firstName}}</td>
									<td>{{chosen.oldInfo.lastName}}</td>
									<td>{{chosen.oldInfo.phone}}</td>
									<td>{{chosen.oldInfo.country}}</td>
									<td>{{chosen.oldInfo.city}}</td>
									<td>{{chosen.oldInfo.street}}</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div>
						<h5 style="text-align: center;">After</h5>
						<table class="table table-bordered">
							<thead>
								<tr>
									<th scope="col">Image</th>
									<th scope="col">First name</th>
									<th scope="col">Last name</th>
									<th scope="col">Phone</th>
									<th scope="col">Country</th>
									<th scope="col">City</th>
									<th scope="col">Street</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><img src="{{chosen.newInfo.image}}" style="width: 60px; height: 60px;"></td>
									<td>{{chosen.newInfo.firstName}}</td>
									<td>{{chosen.newInfo.lastName}}</td>
									<td>{{chosen.newInfo.phone}}</td>
									<td>{{chosen.newInfo.country}}</td>
									<td>{{chosen.newInfo.city}}</td>
									<td>{{chosen.newInfo.street}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			</div>
			<div class="modal-footer">
				<button id="close_button" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button [hidden]="chosen.status === 'accepted' || chosen.status=== 'declined'" type="button"
					class="btn btn-success" (click)="acceptChanges()">Accept changes</button>
				<button [hidden]="chosen.status === 'accepted' || chosen.status=== 'declined'" type="button"
					class="btn btn-danger" (click)="declineChanges()">Decline changes</button>
			</div>
		</div>
	</div>
</div>